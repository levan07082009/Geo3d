<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Geo3D</title>
<style>
/* Your existing CSS unchanged */
.contact-container { background-color: var(--surface-color); padding: 20px; margin-top: 50px; text-align: center; border-radius: var(--border-radius); box-shadow: var(--shadow); }
.contact-container p { margin: 5px 0; }
.contact-container a { color: var(--primary-color); text-decoration: none; font-weight: 500; }
.contact-container a:hover { text-decoration: underline; }
:root { --primary-color: #3498db; --secondary-color: #2c3e50; --background-color: #ecf0f1; --surface-color: #ffffff; --text-color: #34495e; --border-radius: 8px; --shadow: 0 4px 15px rgba(0, 0, 0, 0.1); }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; margin: 0; background-color: var(--background-color); color: var(--text-color); }
.container { width: 90%; max-width: 1200px; margin: 0 auto; padding: 20px 0; }
h2 { text-align: center; color: var(--secondary-color); margin-bottom: 30px; }
header { background-color: var(--surface-color); padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; box-shadow: var(--shadow); position: sticky; top: 0; z-index: 1000; }
.logo { font-size: 1.5em; font-weight: bold; color: var(--primary-color); text-decoration: none; }
nav a { text-decoration: none; color: var(--secondary-color); margin-left: 20px; font-weight: 500; transition: color 0.3s; }
nav a:hover { color: var(--primary-color); }
.cart-indicator { position: relative; cursor: pointer; }
.cart-count { position: absolute; top: -10px; right: -15px; background-color: var(--primary-color); color: white; border-radius: 50%; padding: 2px 6px; font-size: 0.8em; font-weight: bold; }
.slideshow-container { max-width: 1200px; position: relative; margin: 20px auto 40px auto; box-shadow: var(--shadow); border-radius: var(--border-radius); overflow: hidden; }
.slide { display: none; }
.slide img { width: 100%; height: 400px; object-fit: cover; vertical-align: middle; }
.fade { animation-name: fade; animation-duration: 1.5s; }
@keyframes fade { from { opacity: .4 } to { opacity: 1 } }
.dots-container { text-align: center; position: absolute; bottom: 15px; width: 100%; }
.dot { cursor: pointer; height: 15px; width: 15px; margin: 0 5px; background-color: rgba(255, 255, 255, 0.5); border-radius: 50%; display: inline-block; transition: background-color 0.6s ease; }
.dot.active, .dot:hover { background-color: rgba(255, 255, 255, 1); }
.static-cards { display: flex; justify-content: space-between; gap: 15px; flex-wrap: wrap; margin-bottom: 30px; }
.static-cards .card { background: #fff; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); overflow: hidden; flex: 1 1 calc(20% - 12px); min-width: 120px; transition: transform 0.3s, box-shadow 0.3s; cursor: pointer; display: flex; align-items: center; justify-content: center; }
.static-cards .card img { width: 100%; height: auto; display: block; object-fit: cover; }
.static-cards .card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.15); }
@media(max-width:900px){ .static-cards .card { flex:1 1 calc(50% - 12px); } }
@media(max-width:500px){ .static-cards .card { flex:1 1 100%; } }
.search-container { text-align: center; margin-bottom: 20px; }
#search-bar { width: 50%; max-width: 500px; padding: 12px 20px; font-size: 1em; border-radius: 25px; border: 1px solid #ddd; }
.filter-container { text-align: center; margin-bottom: 40px; }
.filter-btn { background-color: var(--surface-color); border: 1px solid #ddd; color: var(--secondary-color); padding: 8px 16px; margin: 5px; border-radius: 20px; cursor: pointer; transition: all 0.3s; }
.filter-btn:hover { background-color: #e0e0e0; }
.filter-btn.active { background-color: var(--primary-color); color: white; border-color: var(--primary-color); }
.product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 30px; }
.product-card { background-color: var(--surface-color); border-radius: var(--border-radius); overflow: hidden; box-shadow: var(--shadow); cursor: pointer; transition: transform 0.3s, box-shadow 0.3s; display: flex; flex-direction: column; }
.product-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15); }
.product-card img { width: 100%; height: 200px; object-fit: cover; }
.product-info { padding: 15px; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; }
.product-name { font-size: 1.1em; font-weight: 600; margin: 0 0 10px 0; }
.product-price { font-size: 1.2em; font-weight: bold; color: var(--primary-color); }
.modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.6); align-items: center; justify-content: center; }
.modal-content { background-color: var(--surface-color); margin: auto; padding: 30px; border-radius: var(--border-radius); width: 90%; max-width: 600px; position: relative; animation: slide-down 0.4s ease-out; }
@keyframes slide-down { from { transform: translateY(-50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
.close-button { color: #aaa; position: absolute; top: 15px; right: 25px; font-size: 28px; font-weight: bold; cursor: pointer; }
.close-button:hover { color: #000; }
#modal-image { width: 100%; max-height: 300px; object-fit: cover; border-radius: var(--border-radius); margin-bottom: 20px; }
#modal-name { font-size: 2em; margin: 0 0 10px 0; color: var(--secondary-color); }
#modal-description { margin-bottom: 20px; line-height: 1.6; }
#modal-price { font-size: 1.8em; font-weight: bold; color: var(--primary-color); margin-bottom: 25px; }
.add-to-cart-btn { background-color: var(--primary-color); color: white; border: none; padding: 12px 25px; font-size: 1em; font-weight: bold; border-radius: 25px; cursor: pointer; transition: background-color 0.3s, transform 0.2s; display: block; width: 100%; }
.add-to-cart-btn:hover { background-color: #2980b9; transform: scale(1.02); }
.trending-section { margin-top: 60px; }
.trending-slider { display: flex; overflow-x: auto; padding-bottom: 20px; scroll-snap-type: x mandatory; scrollbar-width: thin; }
.trending-slider .product-card { flex: 0 0 280px; margin-right: 20px; scroll-snap-align: start; }
</style>
</head>
<body>

    <header>
        <a href="index.html" class="logo">
            <img src="product_images/logo.png" alt="Geo3D Logo" style="height:40px; vertical-align:middle;">
            Geo3D
        </a>
        <nav>
            <a href="about-us.html">·Éï·Éò·Éú ·Éï·Éê·É†·Éó ·É©·Éï·Éî·Éú?</a>
            <a href="cart.html" class="cart-indicator">üõí Cart<span class="cart-count">0</span></a>
        </nav>
    </header>
<div class="slideshow-container" id="slideshow-container">
    <div class="dots-container" id="dots-container"></div>
</div>

<div class="container">
    <div class="static-cards" id="static-cards"></div>

    <div class="search-container">
        <input type="text" id="search-bar" placeholder="Search for products...">
    </div>
    <div class="filter-container" id="filter-container"></div>

    <h2>·É©·Éï·Éî·Éú·Éò ·Éû·É†·Éù·Éì·É£·É•·É¢·Éî·Éë·Éò</h2>
    <div class="product-grid" id="product-grid"></div>

    <div class="trending-section">
        <h2>·É¢·É†·Éî·Éú·Éì·É£·Éö·Éò</h2>
        <div class="trending-slider" id="trending-slider"></div>
    </div>
</div>

<div id="product-modal" class="modal">
    <div class="modal-content">
        <span class="close-button">&times;</span>
        <img id="modal-image" src="" alt="Product Image">
        <h2 id="modal-name">Product Name</h2>
        <p id="modal-description">Product description...</p>
        <p id="modal-price">$0.00</p>
        <button id="modal-add-to-cart" class="add-to-cart-btn">Add to Cart</button>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    let allProducts = [];
    let activeFilter = '·Éß·Éï·Éî·Éö·Éê'; 
    const productGrid = document.getElementById('product-grid');
    const searchBar = document.getElementById('search-bar');
    const modal = document.getElementById('product-modal');
    const closeModal = document.querySelector('.close-button');
    const staticCardsContainer = document.getElementById('static-cards');

    // --- CART LOGIC ---
    function getCart() { return JSON.parse(localStorage.getItem('shoppingCart')) || {}; }
    function saveCart(cart) { localStorage.setItem('shoppingCart', JSON.stringify(cart)); updateCartIndicator(); }
    function addToCart(productId) { const cart = getCart(); cart[productId] = (cart[productId] || 0) + 1; saveCart(cart); }
    function updateCartIndicator() { const cart = getCart(); const totalItems = Object.values(cart).reduce((sum, quantity) => sum + quantity, 0); document.querySelector('.cart-count').textContent = totalItems; }

    // --- SLIDESHOW ---
    let slideIndex = 0;
    let slidesData = [];
    function renderSlideshow(slides) {
        const container = document.getElementById("slideshow-container");
        const dotsContainer = document.getElementById("dots-container");
        container.innerHTML = ""; dotsContainer.innerHTML = "";
        slides.forEach((slide, i) => {
            const slideDiv = document.createElement("div"); slideDiv.className = "slide fade";
            slideDiv.innerHTML = `<a href="${slide.link}"> <img src="${slide.src}" alt="${slide.alt}"> </a>`; container.appendChild(slideDiv);
            const dot = document.createElement("span"); dot.className = "dot"; dot.onclick = () => currentSlide(i); dotsContainer.appendChild(dot);
        });
        container.appendChild(dotsContainer); showSlides();
    }
    function showSlides() {
        const slides = document.getElementsByClassName("slide");
        const dots = document.getElementsByClassName("dot");
        if(slides.length===0) return;
        for (let i = 0; i < slides.length; i++) slides[i].style.display = "none";
        slideIndex++; if (slideIndex > slides.length) slideIndex = 1;
        for (let i = 0; i < dots.length; i++) dots[i].className = dots[i].className.replace(" active", "");
        slides[slideIndex-1].style.display = "block";
        dots[slideIndex-1].className += " active";
        setTimeout(showSlides, 4000);
    }
    window.currentSlide = function(n){ slideIndex = n; showSlides(); }
    fetch('slides.json').then(res => res.json()).then(data => { slidesData = data; renderSlideshow(slidesData); }).catch(err => console.error(err));

    // --- PRODUCTS ---
    fetch('products.json')
        .then(res => res.json())
        .then(data => {
            allProducts = data;
            populateFilters();
            updateProductGrid();
            renderTrendingSlider(allProducts.filter(p => p.trending));
        }).catch(err => console.error('Error loading products:', err));

    function populateFilters() {
        const filterContainer = document.getElementById('filter-container');
        const keywords = ['·Éß·Éï·Éî·Éö·Éê','·Éõ·Éê·Éí·Éò·Éì·Éê','·É°·Éê·Éó·Éê·Éõ·Éê·É®·Éù','·Éß·É£·É†·É°·Éê·É°·Éõ·Éî·Éú·Éò','·É°·Éê·É°·Éê·É©·É£·É•·É†·Éî', '·É§·Éê·É°·Éì·Éê·Éô·Éö·Éî·Éë·Éê'];
        filterContainer.innerHTML = '';
        keywords.forEach(keyword => {
            const button = document.createElement('button');
            button.className = 'filter-btn'; button.dataset.keyword = keyword; button.textContent = keyword.charAt(0).toUpperCase() + keyword.slice(1);
            if(keyword==='·Éß·Éï·Éî·Éö·Éê') button.classList.add('active');
            button.addEventListener('click', () => {
                activeFilter = keyword;
                document.querySelectorAll('.filter-btn').forEach(btn=>btn.classList.remove('active'));
                button.classList.add('active');
                updateProductGrid();
            });
            filterContainer.appendChild(button);
        });
    }

    function updateProductGrid() {
        const searchTerm = searchBar.value.toLowerCase();
        let filteredProducts = allProducts;
        if(activeFilter!=='·Éß·Éï·Éî·Éö·Éê') filteredProducts = filteredProducts.filter(p=>p.keywords.includes(activeFilter));
        if(searchTerm) filteredProducts = filteredProducts.filter(p=>
            p.name.toLowerCase().includes(searchTerm) ||
            p.description.toLowerCase().includes(searchTerm) ||
            p.keywords.some(k=>k.toLowerCase().includes(searchTerm))
        );
        renderProductGrid(filteredProducts);
    }

    function renderProductGrid(products){
        productGrid.innerHTML='';
        if(products.length===0){ productGrid.innerHTML='<p>No products found.</p>'; return; }
        products.forEach(product=>{
            const card = document.createElement('div'); card.className='product-card'; card.dataset.productId=product.id;
            const price = product.priceadded ?? product.price;
            card.innerHTML=`<a href="product.html?id=${product.id}"> <img src="${product.image||'product'+product.id+'.png'}" alt="${product.name}"> </a>
                <div class="product-info">
                    <h3 class="product-name">${product.name}</h3>
                    <p class="product-price">${product.display} ‚Çæ</p>
                    <button class="add-to-cart-btn">Add to Cart</button>
                </div>`;
            card.querySelector('.add-to-cart-btn').addEventListener('click', e=>{ e.stopPropagation(); addToCart(product.id); });
            card.addEventListener('click', ()=>openModal(product));
            productGrid.appendChild(card);
        });
    }

    function renderTrendingSlider(trendingProducts){
        const slider = document.getElementById('trending-slider'); slider.innerHTML='';
        trendingProducts.forEach(p=>{
            const card=document.createElement('div'); card.className='product-card';
            const price = p.priceadded ?? p.price;
            card.innerHTML=`<a href="product.html?id=${p.id}"><img src="${p.image||'product'+p.id+'.png'}" alt="${p.name}"></a>
                <div class="product-info">
                    <h3 class="product-name">${p.name}</h3>
                    <p class="product-price">${price.toFixed(2)} ‚Çæ</p>
                </div>`;
            slider.appendChild(card);
        });
    }

    searchBar.addEventListener('input', updateProductGrid);
    updateCartIndicator();

    // --- MODAL ---
    function openModal(product){
        document.getElementById('modal-image').src = product.image||'product'+product.id+'.png';
        document.getElementById('modal-name').textContent = product.name;
        document.getElementById('modal-description').textContent = product.description;
        const price = product.priceadded ?? product.price;
        document.getElementById('modal-price').textContent = price.toFixed(2)+'‚Çæ';
        document.getElementById('modal-add-to-cart').onclick = ()=>{ addToCart(product.id); modal.style.display='none'; };
        modal.style.display='flex';
    }
    closeModal.addEventListener('click', ()=>modal.style.display='none');
    window.addEventListener('click', e=>{ if(e.target===modal) modal.style.display='none'; });
});
</script>
<div class="contact-container">
    <p>Email: <a href="mailto:geo3d.ge.store@gmail.com">geo3d.ge.store@gmail.com</a></p>
    <p>Phone: <a href="tel:+1234567890">+1 234 567 890</a></p>
    <p>&copy; 2025 Geo3D. All rights reserved.</p>
</div>
</body>
</html>
